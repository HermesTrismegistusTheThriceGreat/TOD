---
allowed-tools: Read, SlashCommand, TodoWrite, Grep, Glob, Bash
description: Create Alpaca-focused implementation plan using expertise context
argument-hint: [user_request]
---

# Purpose

You are operating a Higher Order Prompt (HOP) that creates implementation plans with Alpaca Trading Platform expertise as the primary focus. It reads the Alpaca expertise file and critical related documentation before delegating to `/plan`, ensuring the planning process is informed by deep Alpaca domain knowledge.

## Variables

USER_REQUEST: $1
EXPERTISE_FILE: .claude/commands/experts/alpaca/expertise.yaml
DOCS_PATH: alpaca_docs/

## Instructions

- This is a simple two-step wrapper prompt that adds Alpaca Trading API expertise context to the planning process
- Keep the workflow concise: read expertise, then delegate to `/plan`
- The goal is to ensure Alpaca Trading API elements of the request are prioritized
- Let the `/plan` command handle the actual planning logic while we provide domain context

## Workflow

1. **Load Alpaca Expertise Context**
   - Read EXPERTISE_FILE to understand Alpaca Trading API architecture, endpoints, order types, and patterns
   - Think of the expertise file as your **mental model** and memory reference for all Alpaca Trading API-related functionality
   - Be sure to backup claims in the expertise file with the source of truth in the documentation at DOCS_PATH
   - Identify critical documentation files referenced in the expertise file
   - Read those critical documentation files to gain current API specification context
   - Focus on Alpaca-specific elements that relate to USER_REQUEST

2. **Execute Planning with Context**
   - Call `/plan` with USER_REQUEST as the argument
   - The planning will now be informed by the Alpaca Trading API expertise loaded in step 1
   - Prioritize Alpaca API elements in the implementation plan

## Report

The report will be generated by the `/plan` command.
