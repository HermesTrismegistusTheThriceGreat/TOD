================================================================================
OPENPOSITION CARD - 4 LEGS VALIDATION SUMMARY
================================================================================

VALIDATION DATE: January 20, 2026
TEST URL: http://localhost:5175
VIEWPORT SIZE: 1920x1080
BROWSER MODE: Headless Playwright

================================================================================
CRITICAL FINDING: INCOMPLETE FIX
================================================================================

The OpenPositionCard component DOES NOT display all 4 legs of multi-leg positions.

VISIBLE LEGS: 2 out of 4 (50%)
MISSING LEGS: 2 out of 4 (50%)

================================================================================
DETAILED FINDINGS
================================================================================

Position Tested: GLD (Gold) - Jan 21, 2026 Expiry
Strategy Type: Iron Condor (4-leg position)
Total P/L: $26,200 (Loss)

LEG 1 (Short Call $422.00):
  Status: VISIBLE ✓
  Quantity: -100
  Entry Price: $4.60
  Current Price: $15.60
  P/L: $110,000 (-239.13%)

LEG 2 (Long Call $428.00):
  Status: VISIBLE ✓
  Quantity: 100
  Entry Price: $1.99
  Current Price: $8.85
  P/L: +$68,600 (+344.72%)

LEG 3 (Short Put $422.00):
  Status: PARTIALLY VISIBLE (CUT OFF) ✗
  Visible from: ~320px
  Cut off at: ~360px
  Missing: Bottom border and action button

LEG 4 (Long Put $416.00):
  Status: COMPLETELY HIDDEN ✗
  Visible from: Not visible
  Cut off at: ~380px (below table boundary)

================================================================================
ROOT CAUSE
================================================================================

The CSS fixes applied to App.vue, OpenPositions.vue, and OpenPositions.vue
were incomplete. The OpenPositionCard component still has `overflow: hidden`
on critical elements:

1. .position-card has overflow: hidden (line 480)
   - Prevents card from showing all content

2. .legs-table has overflow: hidden (line 723)
   - Prevents table from scrolling internally

When these properties combine with a flex layout that expands the table,
the result is that legs beyond the visible viewport get clipped completely.

================================================================================
SCREENSHOTS EVIDENCE
================================================================================

Zoomed Card View:
  File: /Users/muzz/Desktop/tac/TOD/.playwright-mcp/openposition-card-gld-4legs.png
  Shows: GLD position card with truncated legs table

Full Page View:
  File: /Users/muzz/Desktop/tac/TOD/.playwright-mcp/openposition-card-full.png
  Shows: Multiple position cards, all showing truncation

================================================================================
REQUIRED FIX
================================================================================

The .legs-table CSS rule must be updated to allow internal scrolling:

CURRENT (BROKEN):
  .legs-table {
    overflow: hidden;
    border-radius: 8px;
  }

REQUIRED (FIXED):
  .legs-table {
    overflow: auto;
    max-height: 400px;
    border-radius: 8px;
  }

  .legs-table :deep(.el-table__body-wrapper) {
    overflow-y: auto !important;
    max-height: 380px;
  }

File to modify: 
  /Users/muzz/Desktop/tac/TOD/apps/orchestrator_3_stream/frontend/src/components/OpenPositionCard.vue
  Lines: 714-728 (.legs-table CSS)

================================================================================
VALIDATION CONCLUSION
================================================================================

RESULT: FAILURE - Partial Implementation
SEVERITY: HIGH - Feature does not work as intended
VISIBLE LEGS: 2/4 (50%)
AFFECTED USERS: All users viewing multi-leg option positions

The fix successfully enables scrolling at the parent container level
(OpenPositions.vue) but fails to enable scrolling within individual
position cards. Users cannot see the complete position data for 4-leg
strategies (iron condors, broken wing condors, etc.).

ACTION REQUIRED: Apply the CSS fix to OpenPositionCard.vue to enable
internal table scrolling.

================================================================================
